(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8280:function(e,t,l){Promise.resolve().then(l.bind(l,735)),Promise.resolve().then(l.bind(l,3696))},735:function(e,t,l){"use strict";l.d(t,{default:function(){return R}});var n=l(7437),a=l(2265),s=l(7349),c=l(1141),i=l(1201),r=l(6087),o=l(8330),u=l(3715),d=l(872),f=l(4770),h=l(5940),m=l(6111),x=l(4438),b=l(6958),p=l(9881),v=l(4663),g=l(9860),j=l(7497),y=l(8084),w=l(9913);let N={파일:[{title:"저장",content:[{icon:(0,n.jsx)(r.Z,{}),label:"SVG로 저장",available:!0,type:"lg"},{icon:(0,n.jsx)(r.Z,{}),label:"PNG로 저장",available:!0,type:"lg"}]}],홈:[{title:"실행 취소",content:[{icon:(0,n.jsx)(o.Z,{}),available:!1,type:"sm"},{icon:(0,n.jsx)(u.Z,{}),available:!1,type:"sm"}]},{title:"클립보드",content:[{icon:(0,n.jsx)(d.Z,{}),label:"붙여넣기",available:!1,type:"lg"},{icon:(0,n.jsx)(f.Z,{size:20}),label:"자르기",available:!1,type:"sm"},{icon:(0,n.jsx)(h.Z,{size:20}),label:"복사",available:!1,type:"sm"}]},{title:"삭제",content:[{icon:(0,n.jsx)(m.Z,{className:"text-red-600"}),label:"삭제",color:"text-red-600",available:!1,type:"lg"}]},{title:"슬라이드",content:[{icon:(0,n.jsx)(x.Z,{}),label:"새 슬라이드",available:!1,type:"lg"},{icon:(0,n.jsx)(b.Z,{size:20}),label:"복사",available:!1,type:"sm"},{icon:(0,n.jsx)(p.Z,{size:20}),label:"템플릿",available:!1,type:"sm"}]}],삽입:[{title:"슬라이드",content:[{icon:(0,n.jsx)(x.Z,{}),label:"새 슬라이드",available:!1,type:"lg"}]},{title:"텍스트",content:[{icon:(0,n.jsx)(v.Z,{}),label:"텍스트 상자",available:!1,type:"lg"}]},{title:"미디어",content:[{icon:(0,n.jsx)(r.Z,{}),label:"그림",available:!1,type:"lg"},{icon:(0,n.jsx)(g.Z,{}),label:"비디오",available:!1,type:"lg"}]},{title:"도형",content:[{icon:(0,n.jsx)(j.Z,{}),label:"사각형",available:!0,type:"lg"},{icon:(0,n.jsx)(y.Z,{}),label:"원",available:!0,type:"lg"}]}],슬라이드쇼:[{title:"슬라이드 쇼",content:[{icon:(0,n.jsx)(w.Z,{className:"text-green-600"}),label:"처음부터",available:!1,type:"lg"},{icon:(0,n.jsx)(w.Z,{className:"text-blue-600"}),label:"현재 슬라이드부터",available:!1,type:"lg"}]}]};function E(e){var t;let{currentTab:l}=e,a=(0,s.h)(e=>e.addShape),{saveAsPNG:r,saveAsSVG:o}=(0,c.j)();return(0,n.jsx)("div",{className:(0,i.cn)("shadow-md p-2 bg-white border border-gray-300 rounded-lg flex text-slate-800"),children:null===(t=N[l])||void 0===t?void 0:t.map((e,t)=>(0,n.jsxs)("div",{className:"flex flex-col items-center px-2 border-r justify-center",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex",children:e.content.filter(e=>"lg"===e.type).map((e,t)=>(0,n.jsxs)("button",{onClick:"사각형"===e.label?()=>a("rectangle"):"원"===e.label?()=>a("circle"):"SVG로 저장"===e.label?o:"PNG로 저장"===e.label?r:void 0,className:(0,i.cn)("flex flex-col gap-3 items-center p-3 rounded hover:bg-gray-100",!e.available&&"cursor-not-allowed"),disabled:!e.available,children:[(0,n.jsx)("span",{children:e.icon}),e.label&&(0,n.jsx)("span",{className:(0,i.cn)("text-sm",e.color),children:e.label})]},t))}),(0,n.jsx)("div",{className:"flex flex-col gap-1",children:e.content.filter(e=>"sm"===e.type).map((e,t)=>(0,n.jsxs)("button",{onClick:"사각형"===e.label?()=>a("rectangle"):"원"===e.label?()=>a("circle"):"SVG로 저장"===e.label?o:"PNG로 저장"===e.label?r:void 0,className:(0,i.cn)("flex items-center gap-2 p-2 rounded hover:bg-gray-100",!e.available&&"cursor-not-allowed"),disabled:!e.available,children:[(0,n.jsx)("span",{className:"text-2xl",children:e.icon}),e.label&&(0,n.jsx)("span",{className:(0,i.cn)("text-sm",e.color),children:e.label})]},t))})]}),(0,n.jsx)("span",{className:"text-sm text-slate-600",children:e.title})]},t))})}let k=["파일","홈","삽입","슬라이드쇼"];var M=l(9608);function S(e){let{tabName:t,selectTab:l,currentTab:a,isMenuHidden:s,setIsMenuOpen:c}=e,{toggleMenu:r}=(0,M.E)();return(0,n.jsx)("button",{onClick:()=>{l(t),s&&c(!0)},onDoubleClick:()=>{c(!1),r()},className:(0,i.cn)("font-medium transition-colors",a===t?"text-black font-black":"text-gray-500"),children:t})}function Z(e){let{currentTab:t,selectTab:l,isMenuHidden:s,setIsMenuOpen:c}=e,[i,r]=(0,a.useState)({left:0,width:0}),o=(0,a.useRef)([]);return(0,a.useEffect)(()=>{let e=k.indexOf(t),l=o.current[e];if(l){let{offsetLeft:e,clientWidth:t}=l;r({left:e,width:t})}},[t]),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"flex",children:k.map((e,a)=>(0,n.jsx)("div",{ref:e=>{o.current[a]=e},className:"relative mx-2 px-2 py-1 rounded-md hover:bg-gray-100",children:(0,n.jsx)(S,{tabName:e,selectTab:l,currentTab:t,isMenuHidden:s,setIsMenuOpen:c})},e))}),(0,n.jsx)("div",{className:"absolute bottom-0 h-[2px] bg-black transition-all duration-150",style:{left:"".concat(i.left+8,"px"),width:"".concat(i.width-16,"px")}})]})}let C=()=>{let[e,t]=(0,a.useState)("홈");return{currentTab:e,selectTab:e=>{t(e)}}};var R=(0,a.memo)(function(){let{currentTab:e,selectTab:t}=C(),{isMenuHidden:l}=(0,M.E)(),[s,c]=(0,a.useState)(!0),[r,o]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1),f=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.useEffect)(()=>{if(l){o(!1);let e=setTimeout(()=>{c(!1)},300);return()=>clearTimeout(e)}c(!0),setTimeout(()=>{o(!0)},10)},[l]),(0,n.jsxs)("div",{ref:f,className:"flex flex-col gap-4",children:[(0,n.jsx)(Z,{currentTab:e,selectTab:t,isMenuHidden:l,setIsMenuOpen:d}),s&&(0,n.jsx)("div",{className:(0,i.cn)("transition-opacity duration-300 ease-out",r?"opacity-100":"opacity-0"),children:(0,n.jsx)(E,{currentTab:e})}),u&&(0,n.jsx)("div",{className:(0,i.cn)("transition-opacity duration-300 ease-out"),children:(0,n.jsx)(E,{currentTab:e})})]})})},3696:function(e,t,l){"use strict";l.d(t,{default:function(){return d}});var n=l(7437),a=l(7349),s=l(1201),c=l(2265),i=l(4457),r=l.n(i),o=l(9608),u=l(1141);function d(){let[e,t]=(0,c.useState)(1),l=(0,c.useRef)(null),i=(0,c.useRef)(null),d=(0,a.h)(e=>e.shapes),f=(0,a.h)(e=>e.updateShapePosition),[h,m]=(0,c.useState)(null),{isMenuHidden:x}=(0,o.E)(),b=async()=>{if(!i.current)return;let t=i.current.getBoundingClientRect(),l=t.width*e,n=t.height*e;try{let e=await r()(i.current,{backgroundColor:"white",scale:2,x:0,y:0,width:l,height:n}),t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download="slide.png",t.click()}catch(e){console.error("PNG 저장 중 오류 발생:",e)}},p=()=>{if(!i.current)return;let e='\n    <svg xmlns="http://www.w3.org/2000/svg" width="'.concat(1600,'" height="').concat(900,'" viewBox="0 0 ').concat(1600," ").concat(900,'" style="overflow: hidden;">\n      <!-- 슬라이드 배경색 -->\n      <rect width="').concat(1600,'" height="').concat(900,'" fill="white" />\n  ');a.h.getState().shapes.forEach(t=>{let{x:l,y:n,width:a,height:s,color:c,borderColor:i,type:r}=t;if("circle"===r){let t=Math.min(a,s)/2;e+='\n        <circle cx="'.concat(l+t,'" cy="').concat(n+t,'" r="').concat(t,'" fill="').concat(c,'" stroke="').concat(i,'" stroke-width="3" />\n      ')}else e+='\n        <rect x="'.concat(l,'" y="').concat(n,'" width="').concat(a,'" height="').concat(s,'" fill="').concat(c,'" stroke="').concat(i,'" stroke-width="3" />\n      ')});let t=new Blob([e+="</svg>"],{type:"image/svg+xml"}),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download="slide.svg",l.click(),URL.revokeObjectURL(l.href)};(0,c.useEffect)(()=>{u.j.getState().setSaveFunctions(b,p)},[]),(0,c.useEffect)(()=>{t(x?.75:.6)},[x]),(0,c.useEffect)(()=>{let e=l.current;if(!e)return;let n=e=>{(e.ctrlKey||e.metaKey)&&(e.preventDefault(),t(t=>Math.min(2,Math.max(.1,t-e.deltaY/1e3))))};return e.addEventListener("wheel",n,{passive:!1}),()=>{e.removeEventListener("wheel",n)}},[]);let v=(t,n,a)=>s=>{if(s.preventDefault(),!l.current)return;let c=l.current.getBoundingClientRect();m({id:t,offsetX:(s.clientX-c.left-n*e)/e,offsetY:(s.clientY-c.top-a*e)/e})},g=t=>{if(!h||!l.current)return;let n=l.current.getBoundingClientRect(),a=(t.clientX-n.left-h.offsetX*e)/e,s=(t.clientY-n.top-h.offsetY*e)/e;requestAnimationFrame(()=>{f(h.id,a,s)})},j=()=>{m(null)};return(0,c.useEffect)(()=>(document.addEventListener("mousemove",g),document.addEventListener("mouseup",j),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",j)}),[h]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("main",{className:"relative h-full flex w-screen",children:(0,n.jsx)("div",{ref:l,className:"absolute h-full flex w-full flex-col items-center justify-center",children:(0,n.jsx)("div",{ref:i,className:(0,s.cn)("flex rounded-lg border-neutral-300 bg-white shadow-xl translate ease-out duration-200"),style:{width:1600,height:900,transform:"scale(".concat(e,")"),transformOrigin:"top"},children:(0,n.jsx)("div",{className:"relative h-full w-full",children:d.map(e=>(0,n.jsx)("div",{className:"absolute cursor-pointer",onMouseDown:v(e.id,e.x,e.y),style:{left:e.x,top:e.y,width:e.width,height:"circle"===e.type?e.width:e.height,backgroundColor:e.color,borderRadius:"circle"===e.type?"50%":"0",border:"3px solid ".concat(e.borderColor)}},e.id))})})})}),(0,n.jsx)("footer",{className:"bg-[#f2f3f5] justify-end border-t border-slate-300 fixed bottom-0 w-full py-1 px-4 flex items-center z-50",children:(0,n.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,n.jsx)("button",{onClick:()=>t(e=>Math.max(.1,e-.05)),className:"text-slate-500 cursor-pointer",children:"-"}),(0,n.jsx)("input",{type:"range",min:"10",max:"200",value:100*e,step:"5",onChange:e=>t(Number(e.target.value)/100),className:"cursor-pointer",style:{height:"8px",background:"#d3d3d3",WebkitAppearance:"none",borderRadius:"10px",outline:"none",transition:"background 450ms ease-in",accentColor:"#404040"}}),(0,n.jsx)("button",{onClick:()=>t(e=>Math.min(2,e+.05)),className:"text-slate-500 cursor-pointer",children:"+"}),(0,n.jsxs)("span",{className:"text-sm",children:[Math.round(100*e),"%"]})]})})]})}},7349:function(e,t,l){"use strict";l.d(t,{h:function(){return s}});var n=l(3011);let a=()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},s=(0,n.U)(e=>({shapes:[],addShape:t=>{e(e=>({shapes:[...e.shapes,{id:crypto.randomUUID(),type:t,x:1400*Math.random(),y:800*Math.random(),width:450*Math.random()+50,height:450*Math.random()+50,color:a(),borderColor:a()}]}))},updateShapePosition:(t,l,n)=>{e(e=>({shapes:e.shapes.map(e=>e.id===t?{...e,x:l,y:n}:e)}))}}))},1141:function(e,t,l){"use strict";l.d(t,{j:function(){return n}});let n=(0,l(3011).U)(e=>({saveAsPNG:()=>{},saveAsSVG:()=>{},setSaveFunctions:(t,l)=>e({saveAsPNG:t,saveAsSVG:l})}))},9608:function(e,t,l){"use strict";l.d(t,{E:function(){return n}});let n=(0,l(3011).U)(e=>({isMenuHidden:!1,toggleMenu:()=>e(e=>({isMenuHidden:!e.isMenuHidden}))}))},1201:function(e,t,l){"use strict";l.d(t,{cn:function(){return s}});var n=l(1994),a=l(3335);let s=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,a.m6)((0,n.W)(t))}}},function(e){e.O(0,[337,692,971,117,744],function(){return e(e.s=8280)}),_N_E=e.O()}]);